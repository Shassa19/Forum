<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Profil - Forum</title>
  <link rel="stylesheet" href="static/profil.css">
</head>
<body>
  <div id="message" class="hidden"></div>

  <!-- Header principal -->
  <header>
    <h1>Forum</h1>
    <div class="top-bar">
      <button onclick="window.location.href='/index'">← Retour</button>
    </div>
  </header>  

  <!-- Navigation -->
  <nav class="main-nav">
    <button>❤️ Sujet liké</button>
    <button onclick="openPostPopup()">➕ Créer un sujet</button>
    <button>⭐ Les plus populaires</button>
  </nav>

    <!-- Contenu principal -->
<main class="profile-container">
  <!-- Sidebar gauche -->
  <aside class="sidebar">
    <div class="avatar-wrapper">
      <img id="profile-avatar" src="static/avatars/avatar1.png" alt="Avatar utilisateur">
    </div>
    <button onclick="openAvatarPopup()">Changer d'avatar</button>
    <h2 id="profile-username">Pseudo</h2>
    <p class="edit-profile" onclick="openEditPopup()">Modification de profil</p>
    <button onclick="logout()">Se déconnecter</button>

    <!-- Popup de sélection d'avatar -->
    <div id="avatar-popup" class="hidden">
      <h3>Choisis ton avatar</h3>
      <div class="avatar-options">
        <img src="static/avatars/avatar1.png" onclick="selectAvatar('avatar1.png')">
        <img src="static/avatars/avatar2.png" onclick="selectAvatar('avatar2.png')">
        <img src="static/avatars/avatar3.png" onclick="selectAvatar('avatar3.png')">
        <img src="static/avatars/avatar4.png" onclick="selectAvatar('avatar4.png')">
        <img src="static/avatars/avatar5.png" onclick="selectAvatar('avatar5.png')">
      </div>
    </div>

        <!-- Popup de modification de profil -->
<div id="edit-popup" class="hidden">
  <div class="popup-content">
    <h3>Modifier mon profil</h3>
    <form id="edit-form">
      <label for="new-username">Nouveau pseudo :</label>
      <input type="text" id="new-username" name="new-username" placeholder="Nouveau pseudo..." required>

      <label for="new-password">Nouveau mot de passe :</label>
      <input type="password" id="new-password" name="new-password" placeholder="Nouveau mot de passe..." required>

      <div class="popup-actions">
        <button type="button" onclick="closeEditPopup()">Annuler</button>
        <button type="submit">Valider</button>
      </div>
    </form>
  </div>
</div>


  </aside>

    <!-- Zone centrale -->
    <section class="profile-main">
      <div class="topics-list">
        <h3>Mes topics</h3>
        <!-- Les sujets seront injectés ici -->
      </div>
    

      <div class="last-reply">
        <h3>Dernière réponse</h3>
        <p>Contenu de la dernière réponse ici...</p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <h2>Notre communauté</h2>
    <div class="footer-columns">
      <div>
        <h4>À propos</h4>
        <p>Forum créé grâce à Louis</p>
        <p>Partage, entraide et discussion libre.</p>
      </div>
      <div>
        <h4>Projet pédagogique</h4>
        <p>Développé dans le cadre d’un projet web.</p>
        <p>Romain à fais les filtres</p>
      </div>
      <div>
        <h4>Contact</h4>
        <p>contact@forumlocal.fr</p>
        <p>&copy; 2025 ForumLocal - Tous droits réservés</p>
      </div>
    </div>
  </footer> 

  <div id="popup-overlay" class="hidden">
    <div class="popup-box">
      <p class="popup-header">Exprime-toi <span id="popup-user">Pseudo</span> tout le monde t'écoute...</p>
      <form id="postForm">
        <input type="text" name="title" placeholder="Titre..." required>
        <textarea name="content" placeholder="Quoi de neuf ?" required></textarea>
        <div class="popup-actions">
          <button type="button" id="cancelBtn">Annuler</button>
          <button type="submit" class="publish">Publier</button>
        </div>
      </form>
    </div>
  </div>

  <script src="assets/profile.js"></script>
  <script src="assets/postPopup.js"></script>
  <script src="assets/postLoader.js"></script>

</body>
</html>